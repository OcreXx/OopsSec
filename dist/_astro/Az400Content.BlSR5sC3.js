import{j as v}from"./jsx-runtime.ClP7wGfN.js";import{r as j}from"./index.DK-fsZOb.js";function b(c){return c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function $(c){const o=/(https?:\/\/[\w\-\.\/%#?=&+~:@,;!()]+)|((?:www)\.[\w\-\.]+\.[a-z]{2,}(?:\/[\w\-\.\/%#?=&+~:@,;!()]*)?)/gi;return c.replace(o,e=>`<a href="${e.startsWith("http")?e:`https://${e}`}" target="_blank" rel="noopener">${e}</a>`)}function C(c){const o=c.replace(/\r\n?/g,`
`).split(`
`);let e="",h=!1,d=!1,a=!1,l=!1,m=!1,g="";function f(){g.trim()&&(e+=`<p>${$(b(g.trim()))}</p>`,g="")}function x(){h&&(e+="</ul>",h=!1),d=!1}function t(){h||(e+="<ul>",h=!0)}function r(){a&&(e+="</code></pre>",a=!1)}function s(){a||(e+="<pre><code>",a=!0)}function n(){l&&(e+=m?"</tbody></table>":"</table>",l=!1,m=!1)}const p=/^(\d+(?:\.\d+)*)\.\s+(.+)$/,E=/^(.+)\t(.+)$/;for(let y=0;y<o.length;y++){const i=o[y],u=i.trim();if(u===""){if(d){f();continue}f(),a?e+=`
`:(x(),n());continue}const L=u.match(p);if(L){f(),x(),r(),n();const w=L[1].split(".").length,H=w===1?"h2":w===2?"h3":w===3?"h4":"h5";e+=`<${H}>${b(L[1]+". "+L[2])}</${H}>`;continue}if(/:$/u.test(u)){f(),x(),r(),n();const w=u.replace(/:$/,"").trim();e+=`<p>${$(b(u))}</p>`,d=!0,/^Ejemplo de uso$/i.test(w)&&(d=!1,s());continue}const k=i.match(E);if(k){f(),x(),r(),l||(l=!0,m=!1),m?e+="<tr>"+k.slice(1).map(w=>`<td>${$(b(w.trim()))}</td>`).join("")+"</tr>":(e+="<table><thead><tr>"+k.slice(1).map(w=>`<th>${b(w.trim())}</th>`).join("")+"</tr></thead><tbody>",m=!0);continue}if(a){e+=b(i)+`
`;continue}if(/^[-*]\s+/.test(u)){f(),n(),t(),e+=`<li>${$(b(u.replace(/^[-*]\s+/,"")))}</li>`;continue}if(d){if(p.test(u)||/:$/u.test(u)||E.test(i)||/^(git |az |bash |pwsh |curl |wget |npm |yarn |pnpm )/i.test(u)){x(),y--,d=!1;continue}t(),e+=`<li>${$(b(u))}</li>`;continue}if(/^(git |az |bash |pwsh |curl |wget |npm |yarn |pnpm )/i.test(u)){f(),x(),n(),s(),e+=b(i)+`
`;continue}g?g+=" "+i.trim():g=i}return f(),x(),r(),n(),e}function N(c){return c.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s.-]/g,"").trim().replace(/[\s]+/g,"-")}function T(c,o){const e=c.querySelectorAll("h2, h3, h4");if(!e.length||!o)return;const h=new Map,d=[];e.forEach(t=>{const r=t.tagName==="H2"?2:t.tagName==="H3"?3:4,s=t.textContent.trim();let n=N(s),p=n,E=2;for(;h.has(p);)p=`${n}-${E++}`;h.set(p,!0),t.id=p,d.push({level:r,text:s,id:p})});const a=document.createElement("div");a.className="accordion";let l=null;function m(t){const r=document.getElementById(t);if(!r)return;const n=r.getBoundingClientRect().top+window.scrollY-68-12;window.scrollTo({top:n,behavior:"smooth"})}d.forEach(t=>{if(t.level===2){let r=function(){s.classList.toggle("open")};const s=document.createElement("div");s.className="accordion-item";const n=document.createElement("div");n.className="accordion-header",n.tabIndex=0,n.innerHTML=`<span>${t.text}</span><button class="idx-jump" title="Ir a sección" aria-label="Ir a sección">▾</button>`;const p=t.id;n.addEventListener("click",()=>{m(p)}),n.addEventListener("keydown",i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),m(p))});const E=n.querySelector(".idx-jump");E&&(E.addEventListener("click",i=>{i.stopPropagation(),r()}),E.addEventListener("keydown",i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),i.stopPropagation(),r())}));const y=document.createElement("div");y.className="accordion-content",l=document.createElement("ul"),y.appendChild(l),s.appendChild(n),s.appendChild(y),a.appendChild(s)}else if(l&&t.level===3&&/^\d+\.\d+\./.test(t.text)){const r=document.createElement("li");r.innerHTML=`<a class="index-link" href="#${t.id}">${t.text}</a>`,l.appendChild(r)}}),o.innerHTML="",o.appendChild(a);const g=a.querySelector(".accordion-item");g&&g.classList.add("open");const f=new Map;a.querySelectorAll("a.index-link").forEach(t=>f.set(t.getAttribute("href").slice(1),t));const x=new IntersectionObserver(t=>{t.forEach(r=>{if(r.isIntersecting){const s=f.get(r.target.id);s&&(a.querySelectorAll("a.index-link.active").forEach(n=>n.classList.remove("active")),s.classList.add("active"))}})},{rootMargin:"-20% 0px -70% 0px",threshold:[0,1]});c.querySelectorAll("h2, h3, h4").forEach(t=>x.observe(t))}function z(){const c=j.useRef(null),o=j.useRef(null),[e,h]=j.useState("");return j.useEffect(()=>{let d=!1;async function a(){try{const l=await fetch("/DevSecOps/AZ-400/Theory.txt",{cache:"no-store"});if(!l.ok)throw new Error("no se pudo cargar el contenido");const m=await l.text();if(d)return;c.current&&(c.current.innerHTML=C(m)),c.current&&o.current&&T(c.current,o.current)}catch{h("Error cargando el contenido.")}}return a(),()=>{d=!0}},[]),v.jsxs("div",{className:"layout az-wide",children:[v.jsxs("aside",{className:"sidebar",children:[v.jsx("h3",{children:"Índice AZ-400"}),v.jsx("div",{ref:o})]}),v.jsx("div",{className:"content-area",children:v.jsxs("section",{className:"card az-card",children:[v.jsx("h2",{children:"AZ-400 — Teoría"}),e?v.jsx("p",{children:e}):v.jsx("div",{ref:c,id:"az400-content"})]})})]})}export{z as default};
