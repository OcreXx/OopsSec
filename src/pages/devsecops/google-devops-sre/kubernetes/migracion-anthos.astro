---
import BaseLayout from "../../../../../layouts/BaseLayout.astro";
import Contenido from "../../../../../components/Contenido.astro";
import Sidebar from "../../../../../components/Sidebar.astro";
import { SidebarItem } from "../../../../../components/Sidebar";

const sidebarItems: SidebarItem[] = [
  {
    title: "Migrate for Anthos",
    children: [
      { title: "Flujo de Migración", slug: "#flujo-migracion" },
      { title: "Ejemplo de Uso", slug: "#ejemplo" },
    ],
  },
];
---

<BaseLayout
  title="Migrate for Anthos - GKE Foundations"
  description="Aprende a modernizar tus aplicaciones existentes, migrando máquinas virtuales a contenedores en GKE de forma automatizada con Migrate for Anthos."
>
  <div class="page-wrapper">
    <Sidebar
      items={sidebarItems}
      basePath="/devsecops/google-devops-sre/kubernetes-engine-fundamentals"
      backPath="/devsecops/google-devops-sre/kubernetes-engine-fundamentals"
      moduleName="GKE Foundations"
    />
    <main class="gcp-container">
      <Contenido
        title="Migrate for Anthos"
        subtitle="Automatiza la migración de VMs a contenedores en GKE."
      >
        <div id="flujo-migracion" class="content-card">
          <h3>Flujo General de Migración</h3>
          <p>
            <strong>Migrate for Anthos</strong> mueve tus aplicaciones
            existentes desde VMs (on-premise, en otras nubes o en Compute
            Engine) hacia un entorno Kubernetes de forma completamente
            automatizada.
          </p>
          <div class="image-container">
            <img
              src="/DevSecOps/GoogleDevOpsSRE/arch12.png"
              alt="Flujo de Migrate for Anthos"
              loading="lazy"
            />
          </div>
          <h4>Pasos del Proceso</h4>
          <ol>
            <li>
              <strong>Migrar la VM (si es necesario):</strong> Si la aplicación
              está on-premise, se usa{" "}
              <strong>Migrate for Compute Engine</strong> para llevarla a una VM
              en Google Cloud.
            </li>
            <li>
              <strong>Instalar Migrate for Anthos:</strong> Se instala en un{" "}
              <strong>clúster de procesamiento</strong> de GKE, que se dedicará
              a la tarea de migración.
            </li>
            <li>
              <strong>Generar artefactos de despliegue:</strong> Migrate for
              Anthos analiza la VM y genera los artefactos necesarios, como un
              Dockerfile y los archivos de configuración de Kubernetes (YAML).
            </li>
            <li>
              <strong>Almacenar los artefactos:</strong> La imagen del contenedor
              resultante se almacena en <strong>Artifact Registry</strong> (o
              Container Registry) y los archivos de configuración en{" "}
              <strong>Cloud Storage</strong>.
            </li>
            <li>
              <strong>Desplegar en el clúster destino:</strong> Se aplica la
              configuración generada (usando <code>kubectl apply</code>) para
              crear todos los recursos de Kubernetes necesarios en el clúster de
              producción.
            </li>
          </ol>
        </div>

        <div id="ejemplo" class="content-card">
          <h4>Ejemplo de Instalación y Migración</h4>
          <p>
            <strong>1. Configurar el clúster de procesamiento:</strong> Se
            necesita un clúster de GKE con permisos de administrador y reglas de
            firewall adecuadas.
          </p>
          <div class="image-container">
            <img
              src="/DevSecOps/GoogleDevOpsSRE/arch13.png"
              alt="Configuración del cluster"
              loading="lazy"
            />
          </div>
          <p>
            <strong>2. Instalar Migrate for Anthos:</strong> Se utiliza la
            herramienta de línea de comandos <code>migctl</code>.
          </p>
          <div class="image-container">
            <img
              src="/DevSecOps/GoogleDevOpsSRE/arch14.png"
              alt="Instalación de migctl"
              loading="lazy"
            />
          </div>
          <div class="image-container">
            <img
              src="/DevSecOps/GoogleDevOpsSRE/arch15.png"
              alt="Verificación de instalación"
              loading="lazy"
            />
          </div>
          <p>
            <strong>3. Crear el plan de migración:</strong> Se genera un archivo
            YAML que define la migración y que se puede personalizar.
          </p>
          <div class="image-container">
            <img
              src="/DevSecOps/GoogleDevOpsSRE/arch16.png"
              alt="Crear plan de migración"
              loading="lazy"
            />
          </div>
          <p>
            <strong>4. Generar los artefactos de migración:</strong> Este proceso
            copia archivos, crea la imagen de contenedor y genera los YAML de
            despliegue.
          </p>
          <div class="image-container">
            <img
              src="/DevSecOps/GoogleDevOpsSRE/arch17.png"
              alt="Generar artefactos"
              loading="lazy"
            />
          </div>
          <p>
            <strong>5. Obtener y desplegar los artefactos:</strong> Finalmente,
            se descarga el YAML y se usa <code>kubectl apply</code> para
            desplegar la aplicación modernizada en el clúster.
          </p>
          <div class="image-container">
            <img
              src="/DevSecOps/GoogleDevOpsSRE/arch18.png"
              alt="Obtener artefactos"
              loading="lazy"
            />
          </div>
        </div>
      </Contenido>
    </main>
  </div>
</BaseLayout>
<style>
  @import "../../../../../styles/gcp-content.css";
</style>
